"use strict";const menuBtn=document.querySelector(".menu-btn");let mobMenu=document.querySelector(".mob-menu"),menuOpen=!1;function ibg(){let t=document.querySelectorAll(".ibg");for(let e=0;e<t.length;e++)t[e].querySelector("img")&&(t[e].style.backgroundImage="url("+t[e].querySelector("img").getAttribute("src")+")")}function DynamicAdapt(t){this.type=t}menuBtn.addEventListener("click",()=>{menuOpen?(menuBtn.classList.remove("open"),menuOpen=!1):(menuBtn.classList.add("open"),menuOpen=!0),menuOpen?mobMenu.classList.add("active"):mobMenu.classList.remove("active")}),ibg(),DynamicAdapt.prototype.init=function(){const t=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(let t=0;t<this.nodes.length;t++){const e=this.nodes[t],i=e.dataset.da.trim().split(","),n={};n.element=e,n.parent=e.parentNode,n.destination=document.querySelector(i[0].trim()),n.breakpoint=i[1]?i[1].trim():"767",n.place=i[2]?i[2].trim():"last",n.index=this.indexInParent(n.parent,n.element),this.оbjects.push(n)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,(function(t){return"("+this.type+"-width: "+t.breakpoint+"px),"+t.breakpoint}),this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,(function(t,e,i){return Array.prototype.indexOf.call(i,t)===e}));for(let e=0;e<this.mediaQueries.length;e++){const i=this.mediaQueries[e],n=String.prototype.split.call(i,","),a=window.matchMedia(n[0]),o=n[1],r=Array.prototype.filter.call(this.оbjects,(function(t){return t.breakpoint===o}));a.addListener((function(){t.mediaHandler(a,r)})),this.mediaHandler(a,r)}},DynamicAdapt.prototype.mediaHandler=function(t,e){if(t.matches)for(let t=0;t<e.length;t++){const i=e[t];i.index=this.indexInParent(i.parent,i.element),this.moveTo(i.place,i.element,i.destination)}else for(let t=0;t<e.length;t++){const i=e[t];i.element.classList.contains(this.daClassname)&&this.moveBack(i.parent,i.element,i.index)}},DynamicAdapt.prototype.moveTo=function(t,e,i){e.classList.add(this.daClassname),"last"===t||t>=i.children.length?i.insertAdjacentElement("beforeend",e):"first"!==t?i.children[t].insertAdjacentElement("beforebegin",e):i.insertAdjacentElement("afterbegin",e)},DynamicAdapt.prototype.moveBack=function(t,e,i){e.classList.remove(this.daClassname),void 0!==t.children[i]?t.children[i].insertAdjacentElement("beforebegin",e):t.insertAdjacentElement("beforeend",e)},DynamicAdapt.prototype.indexInParent=function(t,e){const i=Array.prototype.slice.call(t.children);return Array.prototype.indexOf.call(i,e)},DynamicAdapt.prototype.arraySort=function(t){"min"===this.type?Array.prototype.sort.call(t,(function(t,e){return t.breakpoint===e.breakpoint?t.place===e.place?0:"first"===t.place||"last"===e.place?-1:"last"===t.place||"first"===e.place?1:t.place-e.place:t.breakpoint-e.breakpoint})):Array.prototype.sort.call(t,(function(t,e){return t.breakpoint===e.breakpoint?t.place===e.place?0:"first"===t.place||"last"===e.place?1:"last"===t.place||"first"===e.place?-1:e.place-t.place:e.breakpoint-t.breakpoint}))};const da=new DynamicAdapt("max");da.init(),function(){let t=document.createElement("canvas"),e=t.getContext("2d"),i=t.width=innerWidth,n=t.height=innerHeight,a=[],o="rgba(10, 21, 33, 0.933)",r="rgba(255, 40, 40, 1)",l=3,s=30,c=.5,d=200,h=7;t.classList.add("canvas-circle"),document.querySelector(".mob-menu__body").appendChild(t),window.onresize=function(){i=t.width=innerWidth,n=t.height=innerHeight};class p{constructor(){this.x=Math.random()*i,this.y=Math.random()*n,this.velocityX=Math.random()*(2*c)-c,this.velocityY=Math.random()*(2*c)-c,this.life=Math.random()*h*60}position(){this.x+this.velocityX>i&&this.velocityX>0||this.x+this.velocityX<0&&this.velocityX<0?this.velocityX*=-1:this.velocityX,this.y+this.velocityY>n&&this.velocityY>0||this.y+this.velocityY<0&&this.velocityY<0?this.velocityY*=-1:this.velocityY,this.x+=this.velocityX,this.y+=this.velocityY}reDraw(){e.beginPath(),e.arc(this.x,this.y,l,0,2*Math.PI),e.closePath(),e.fillStyle=r,e.fill()}reCalculateLife(){this.life<1&&(this.x=Math.random()*i,this.y=Math.random()*n,this.velocityX=Math.random()*(2*c)-c,this.velocityY=Math.random()*(2*c)-c,this.life=Math.random()*h*60),this.life--}}function m(){e.fillStyle=o,e.fillRect(0,0,i,n),function(){for(var t in a)a[t].reCalculateLife(),a[t].position(),a[t].reDraw()}(),function(){var t,i,n,o,r,l;for(var s in a)for(var c in a)t=a[s].x,i=a[s].y,n=a[c].x,o=a[c].y,(r=Math.sqrt(Math.pow(n-t,2)+Math.pow(o-i,2)))<d&&(l=1-r/d,e.lineWidth="0.5",e.strokeStyle="rgba(255, 40, 40, "+l+")",e.beginPath(),e.moveTo(t,i),e.lineTo(n,o),e.closePath(),e.stroke())}(),requestAnimationFrame(m)}!function(){for(var t=0;t<s;t++)a.push(new p);m()}()}();const linkHeader=document.querySelectorAll(".menu__link");for(let t=0;t<linkHeader.length;t++)linkHeader[t].addEventListener("click",(function(e){e.preventDefault(),menuOpen&&(mobMenu.classList.remove("active"),menuBtn.classList.remove("open"));let i=linkHeader[t].getAttribute("data-target");document.querySelector(i).scrollIntoView({behavior:"smooth",block:"start"})}));const blocks=document.querySelector(".page").children;function scrollTo(t){var e=t.getBoundingClientRect(),i=e.top,n=e.bottom,a=e.height;return i+a>=-40&&a+window.innerHeight>=n}window.addEventListener("scroll",(function(){for(let t=0;t<blocks.length;t++)scrollTo(blocks[t])&&blocks[t].classList.add("active")}));